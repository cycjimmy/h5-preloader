/*!
 * h5-preloader v0.1.1
 * Homepage: https://github.com/cycdpo/h5-preloader#readme
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.h5Preloader=t():e.h5Preloader=t()}(window,function(){return(o={},s.m=r={tjUo:function(e,t,r){"use strict";r.r(t);var P=function(n){function e(e){var t,r=e.eProgressBar,o=e.eProgressBarPercent,s=e.hookWhenProgressComplete;return(t=n.call(this,{hookWhenProgressComplete:s})||this).els.eProgressBar=r,t.els.eProgressBarPercent=o,t.els.eProgressBar.style.cssText="transform: scaleX(0);transform-origin: 0 50%;transition: transform .2s;",t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e.prototype.setProgress=function(e){return e>this.percent&&(this.percent=e,this.els.eProgressBar&&(this.els.eProgressBar.style.transform="scaleX("+e/100+")"),this.els.eProgressBarPercent&&(this.els.eProgressBarPercent.textContent=e)),this},e}(function(){function e(e){var t=e.hookWhenProgressComplete,r=void 0===t?function(){}:t;this.els={},this.percent=0,this.hookWhenProgressComplete=r}var t=e.prototype;return t.setProgress=function(){return this},t.progressComplete=function(){var r=this;return new Promise(function(e,t){"complete"===document.readyState?(r.setProgress(100),setTimeout(function(){r.hookWhenProgressComplete(),e()},200)):setTimeout(t,1e3)}).catch(function(){return r.progressComplete()})},e}()),m=function(){function e(e){var t=(void 0===e?{}:e).baseUrl,r=void 0===t?"./":t;this.baseUrl=r,this.resources=[],this.hooks={},this.status=0,this.total=0,this.currentIndex=0}var t=e.prototype;return t.setResources=function(e){return void 0===e&&(e=[]),this.resources=e,this.total=this.resources.length||0,this},t.setHooks=function(e){var t=void 0===e?{}:e,r=t.onStart,o=void 0===r?function(e){}:r,s=t.onProgress,n=void 0===s?function(e,t){}:s,i=t.onComplete,u=void 0===i?function(e){}:i;return this.hooks={onStart:o,onProgress:n,onComplete:u},this},t.start=function(){var o=this;this.status=1,this.hooks.onStart&&this.hooks.onStart(this.total),this.resources.length?this.resources.forEach(function(e){var t=new Image,r="";r=0===e.indexOf("http://")||0===e.indexOf("https://")?e:o.baseUrl+e,t.onload=function(){o.resLoaded()},t.onerror=function(){o.resLoaded()},t.src=r}):this._complete()},t.resLoaded=function(){this.hooks.onProgress&&this.hooks.onProgress(++this.currentIndex,this.total),this.currentIndex===this.total&&(this.status=2,this._complete())},t.getStatus=function(){return this.status},t._complete=function(){this.hooks.onComplete&&this.hooks.onComplete(this.total)},e}(),o=new function(){var t;return function(e){return e&&(t=e),t}},s=function(){function e(e){var o=this,t=void 0===e?{}:e,r=t.type,s=void 0===r?"progressBar":r,n=t.progressBar,i=(n=void 0===n?{}:n).eProgressBar,u=n.eProgressBarPercent,c=t.baseUrl,a=void 0===c?"./":c,h=t.resources,f=void 0===h?[]:h,l=t.hookWhenProgressComplete,p=void 0===l?function(){}:l,d=t.autoComplete,g=void 0===d||d;switch(this.type=s,this.type){case"progressBar":this.progress=new P({eProgressBar:i,eProgressBarPercent:u,hookWhenProgressComplete:p});break;default:this.progress=null}this.resLoader=new m({baseUrl:a}).setResources(f).setHooks({onStart:function(){return o.progress.setProgress(4)},onProgress:function(e,t){var r=Number.parseInt(e/t*92,10)+4;o.progress.setProgress(r)},onComplete:function(){o.progress.setProgress(98),g&&setTimeout(function(){return o.progressComplete()},500)}})}var t=e.prototype;return t.load=function(){return this.resLoader.start()},t.progressComplete=function(){return this.progress.progressComplete()},e}();t.default=function(e){if(o())return o();var t=new s(e);return o(t),t}}},s.c=o,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(r,o,function(e){return t[e]}.bind(null,o));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s="tjUo")).default;function s(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}var r,o});